Fix "path is too long" bug for actual paths encountered during traversal
